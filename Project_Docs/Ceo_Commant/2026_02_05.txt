===================================================================
CEO Comment - 2026년 02월 05일
===================================================================

주제: 안전 그리드(Safety Zone Grid) 시스템 고도화 및 3D 층별 뷰 구현

===================================================================
요구사항 상세
===================================================================

1. 프로젝트 생성 시 그리드 설정 기능 (최고관리자)
-------------------------------------------------------------------
   [목적]
   - 프로젝트마다 현장 특성에 맞는 안전 구역 그리드를 유연하게 설정
   - 소규모/대규모 현장에 모두 대응 가능한 확장성 확보

   [설정 항목]
   ① 프로젝트 위치 (lat, lng)
      - 지도 중심점 좌표 지정
      
   ② 그리드 간격 (grid_spacing)
      - 한 칸의 크기 (미터 단위 또는 좌표 단위)
      - 예: 5m, 10m, 0.00025도
      
   ③ 그리드 격자 개수 (grid_rows, grid_cols)
      - 가로 x 세로 몇 칸으로 나눌 것인가
      - 예: 10x10 = 100개 구역, 20x15 = 300개 구역
      
   [선택 사항]
   - 이 단계를 생략하고 기본값으로 진행 가능
   - 나중에 중간관리자가 조정 가능


2. 중간관리자의 안전존 그리드 재설정 기능
-------------------------------------------------------------------
   [목적]
   - 현장 실사 후 그리드를 세밀하게 조정
   - 프로젝트 진행 중 구역 재배치 대응

   [제약 조건]
   - 프로젝트 위치(중심점)는 고정 (변경 불가)
   - 그리드 간격과 격자 개수만 조정 가능
   
   [기능]
   - 기존 zones 데이터 유지 또는 재생성 선택
   - 변경 전 경고 메시지: "기존 작업 계획/위험구역이 영향받을 수 있습니다"


3. 층수 기반 3D 뷰 (평면도 + 단면도)
-------------------------------------------------------------------
   [배경]
   - 현재: 1개 층(단일 평면)만 지원
   - 요구: 다층 건물의 층별 안전 관리 필요
   
   [데이터 확장]
   - zones 테이블에 floor/level 컬럼 추가 (1F, 2F, B1, ROOF 등)
   - 동일 좌표(lat, lng)에 여러 층의 구역 존재 가능
   
   [UI 구성]
   ┌─────────────────────────────────────────────┐
   │  [평면도 뷰]         │  [단면도 뷰]         │
   │                      │                      │
   │   ┌─┬─┬─┬─┐       │   ROOF  ┌───┐      │
   │   ├─┼─┼─┼─┤       │   3F    ├───┤      │
   │   ├─┼─┼─┼─┤       │   2F    ├───┤ ◀─ 선택│
   │   └─┴─┴─┴─┘       │   1F    ├───┤      │
   │                      │   B1    └───┘      │
   └─────────────────────────────────────────────┘
   
   [동작]
   - 단면도에서 층수 클릭 → 평면도가 해당 층으로 전환
   - 평면도: 선택된 층의 zones만 표시
   - 단면도: 전체 층의 구조를 세로로 표시 (층별 작업 현황, 위험도)


===================================================================
기대 효과
===================================================================
1. 현장 규모/특성에 맞는 맞춤형 그리드 설계
2. 다층 건물의 층별 안전 관리 고도화
3. 직관적인 3D 시각화로 위험 요소 파악 용이
4. 관리자 권한 분리로 유연한 운영 체계 구축


===================================================================
우선순위
===================================================================
1순위: 프로젝트/사이트 생성 시 그리드 설정 UI
2순위: 중간관리자 그리드 재설정 기능
3순위: 층수 데이터 추가 및 평면도/단면도 통합 뷰

기존 "위험구역 신고 기능"과 병행 개발 검토 필요
