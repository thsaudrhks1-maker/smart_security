데일리 프로젝트 로그 (2026-02-06)
=====================================

현재 상태 및 이슈 요약
-------------------
1. Admin 프로젝트 생성 이슈: 시공사 선택 시 현장소장/안전관리자 목록이 로드되지 않는 문제 발생.
2. 백엔드 에러 원인 분석: SQLAlchemy와 asyncpg 연동 시 리스트 파라미터(ANY 구문)가 JSON 문자열로 강제 직렬화되어 DB 에러(DataError) 유발.
3. 조치 사항: back/database.py의 공통 헬퍼 함수에서 파라미터 자동 JSON 직렬화 로직 제거 및 Array 타입 처리 정상화.

작업 완료 내역 (오전)
-------------------
- back/database.py 수정완료: execute, fetch_one, fetch_all, insert_and_return에서 자동 json.dumps 제거.
- 프론트엔드 CreateProject.jsx 분석완료: 담당자 호출 로직 정상 확인.

향후 계획
-------------------
- 프로젝트 생성 기능 정상 작동 여부 최종 확인.
- 현장소장/안전관리자 배정 후 프로젝트 멤버 테이블(project_members)에 올바르게 삽입되는지 점검.
- 전체적인 현장 관리 프로세스(도면 업로드, 구역 설정) 등 추가 점검 진행.

특이사항
-------------------
- 데이터베이스 ANY() 구문을 사용하는 다른 리포지토리 함수들이 이번 수혜로 인해 모두 정상화될 것으로 기대됨.
- 향후 JSONB 타입을 꼭 문자열로 넘겨야 하는 특수 케이스가 생길 경우, 공통 함수가 아닌 해당 리포지토리 레이어에서 개별 직렬화 처리 권장.
