---
name: project_architect
description: ìŠ¤ë§ˆíŠ¸ ê±´ì„¤ì•ˆì „ í”„ë¡œì íŠ¸ì˜ ì•„í‚¤í…ì²˜(Modular Monolith) ë° í´ë” êµ¬ì¡° ê·œì¹™ì„ ê°•ì œí•©ë‹ˆë‹¤.
---

# ğŸ—ï¸ Project Architect Skill (êµ¬ì¡° ì„¤ê³„ ì›ì¹™)

**[í•µì‹¬ ì² í•™]**
- **âŒ `back/models`, `back/routers` í´ë” ê¸ˆì§€!** (ê¸°ëŠ¥ê³¼ ìƒê´€ì—†ì´ ê¸°ìˆ ë³„ë¡œ ë¬¶ì§€ ë§ˆì„¸ìš”)
- **âœ… ê¸°ëŠ¥(Feature)ë³„ ìˆ˜ì§ ì‘ì§‘!** (ê´€ë ¨ëœ ì½”ë“œëŠ” í•œ ê³³ì— ëª¨ìœ¼ì„¸ìš”)

## 1. ğŸ“‚ ë°±ì—”ë“œ í´ë” êµ¬ì¡° (Backend Structure)
ëª¨ë“  ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ, ë°˜ë“œì‹œ ì•„ë˜ì™€ ê°™ì´ **ìƒˆë¡œìš´ í´ë”**ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.

```
back/
â”œâ”€â”€ main.py              # ì•± ì§„ì…ì 
â”œâ”€â”€ database.py          # DB ì„¤ì •
â”œâ”€â”€ login/               # [ê¸°ëŠ¥ 1] ë¡œê·¸ì¸/ì¸ì¦
â”‚   â”œâ”€â”€ router.py        # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”œâ”€â”€ service.py       # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (SQL ê¸ˆì§€, Repository í˜¸ì¶œ)
â”‚   â”œâ”€â”€ repository.py    # DB ì¿¼ë¦¬(CRUD) ì‹¤í–‰
â”‚   â”œâ”€â”€ model.py         # SQLAlchemy ëª¨ë¸ í´ë˜ìŠ¤ ì •ì˜
â”‚   â””â”€â”€ schemas.py       # Pydantic DTO
â”œâ”€â”€ work/                # [ê¸°ëŠ¥ 2] ì‘ì—…/ê³µì •
â”‚   â”œâ”€â”€ router.py
â”‚   â”œâ”€â”€ repository.py
â”‚   â”œâ”€â”€ model.py         # (DailyJob, Worker ëª¨ë¸ ë“±)
â”‚   â””â”€â”€ ...
â””â”€â”€ (safety, company ë“± ê¸°ëŠ¥ë³„ í´ë” ì¶”ê°€)
```

### [ê·œì¹™ ìƒì„¸]
1.  **`model.py`**: ì˜¤ì§ **DB í…Œì´ë¸”(Entity) ì •ì˜**ë§Œ í•©ë‹ˆë‹¤.
2.  **`repository.py`**: **DB ì¿¼ë¦¬(CRUD)**ë§Œ ë‹´ë‹¹í•©ë‹ˆë‹¤. (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€)
3.  **`service.py`**: **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§**ë§Œ ë‹´ë‹¹í•©ë‹ˆë‹¤. (SQL ì§ì ‘ ì‘ì„± ê¸ˆì§€, Repository í˜¸ì¶œ)
4.  **API ë²„ì „:** URLì€ ë°˜ë“œì‹œ `/api/v1/[feature_name]` í˜•ì‹ì„ ë”°ë¦…ë‹ˆë‹¤.
5.  **ì˜ì¡´ì„± ë°©í–¥:** `Router` -> `Service` -> `Repository` -> `Model` (ì—­ë°©í–¥ ì°¸ì¡° ê¸ˆì§€)

### [ì°¸ì¡° í…Œì´ë¸” ëª…ëª… ê·œì¹™]
Many-to-Many ê´€ê³„ë¥¼ ìœ„í•œ ì¤‘ê°„ í…Œì´ë¸”(Junction Table)ì€ **`_links`** ì ‘ë¯¸ì‚¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

**í˜•ì‹:**
```python
# model.py ì˜ˆì‹œ
class DailyWorkerLinks(Base):
    __tablename__ = "daily_worker_links"
    id = Column(Integer, primary_key=True)
    daily_id = Column(Integer, ForeignKey("daily_work_plans.id"))
    worker_id = Column(Integer, ForeignKey("workers.id"))
```

**ì˜ˆì‹œ:**
- âœ… `daily_worker_links` (ì‘ì—…ì¼ë³´ â†” ì‘ì—…ì)
- âœ… `project_user_links` (í”„ë¡œì íŠ¸ â†” ì‚¬ìš©ì)
- âœ… `zone_danger_links` (êµ¬ì—­ â†” ìœ„í—˜ìš”ì†Œ)
- âŒ `daily_worker_allocations` (ë„ˆë¬´ ê¹€, ê¸ˆì§€)
- âŒ `project_members` (ë¶ˆëª…í™•, ê¸ˆì§€)

## 2. âš›ï¸ í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡° (React + Vite)
- **ê³µí†µ UI:** `src/components/common/` (ë²„íŠ¼, ì¹´ë“œ ë“±)
- **ê¸°ëŠ¥ UI:** `src/features/[feature_name]/` (í•´ë‹¹ ê¸°ëŠ¥ ì „ìš© ì»´í¬ë„ŒíŠ¸)
- **í˜ì´ì§€:** `src/pages/` (ë¼ìš°íŒ… ë‹¨ìœ„ í˜ì´ì§€)

## 3. ğŸš¨ ì ˆëŒ€ ê¸ˆì§€ (DO NOT)
- `back/models/all_models.py` ì²˜ëŸ¼ ëª¨ë“  ëª¨ë¸ì„ í•œ íŒŒì¼ì— ëª°ì•„ë„£ê¸° ê¸ˆì§€.
- `back/routers/all_routers.py` ì²˜ëŸ¼ ëª¨ë“  ë¼ìš°í„°ë¥¼ í•œ ê³³ì— ëª¨ìœ¼ê¸° ê¸ˆì§€.
- **ê¸°ì¡´ì— ì˜ ë‚˜ëˆ ì§„ êµ¬ì¡°ë¥¼ ê¹¨ê³  ë‹¤ì‹œ `models` í´ë”ë¥¼ ë§Œë“œëŠ” í–‰ìœ„ ì ˆëŒ€ ê¸ˆì§€.**

## 4. ì‹¤í–‰ íŠ¸ë¦¬ê±°
- "ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì¤˜" (ì˜ˆ: ì•ˆì „ ì ê²€ ê¸°ëŠ¥ ë“±)
- "DB í…Œì´ë¸”ì„ ë§Œë“¤ì–´ì¤˜" (ì–´ë””ì— ë§Œë“¤ì§€ í´ë”ë¶€í„° ê³ ë¯¼í•  ê²ƒ)
