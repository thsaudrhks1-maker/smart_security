---
name: Frontend Data Flow
description: 지능형 데이터 인터랙션, 필터링 및 리얼 월드 더미 데이터 관리 표준.
---

# 프론트엔드 데이터 흐름 표준 (Data Flow)

## 1. 스마트 엔티티 선택 패턴 (Select & Entry)

사용자가 데이터를 입력할 때 기존 데이터를 쉽게 찾고, 없으면 즉시 생성할 수 있는 유연함을 제공합니다.

- **목록 우선**: 시공사, 발주처 등은 DB 목록(`getCompanies`)에서 선택하는 것을 기본으로 함.
- **직접 입력 토글**: 목록에 없는 경우를 대비해 `+ 직접 등록` 버튼을 배치하여 `Input` 모드로 전환 가능해야 함.
- **동적 필터링**: '시공사'가 선택되면 '현장소장' 목록은 자동으로 해당 시공사 인원만 나오도록 `userApi.getUsersByCompany`를 연동함.

## 2. API 데이터 방어 코드 (Safety First)

추출 시 발생할 수 있는 런타임 에러를 방지합니다.

- **심층 참조**: 백엔드 응답이 `{ success: true, data: [...] }` 형식이므로 반드시 `.data.data`를 참조함.
- **기본값 보장**: 배열 데이터를 다룰 때는 항상 `const list = res.data.data || []` 처리를 통해 `.map()`이나 `.filter()` 에러를 방지함.

## 3. 리얼 월드 더미 데이터 관리 (Realistic Seeding)

테스트 데이터는 항상 실제 비즈니스 생태계를 반영해야 합니다.

- **3계층 구조**: 발주처 - 시공사(종합) - 협력사(전문) 관계를 반드시 포함.
- **역할 기반 매칭**: 사용자는 소속 업체에 맞는 역할(`admin`은 시공사, `worker`는 협력사 등)을 가져야 함.
- **초기화 표준**: `atomic_reset.py`는 모든 제약 조건을 초기화하되, 위 계층 구조를 보존한 채 데이터를 주입함.
